<nav class="participant-menu">
    <h1 class="participant-menu__welcome-title participant-menu__item participant-menu__item--margin">{{_("Welcome, ")}} {{request.user.name}}!</h1>

    <a id="home" href="{{ url("profile:home") }}" class="participant-menu__home-link">Home</a>

    <h3 class="participant-menu__item">
        {{ _('My Boards') }}
        <a href="{{ url('boards:board-create') }}" class="add-button" title="{{_('New board')}}"><i class="fa fa-plus-square fa-lg"></i></a>
    </h3>
    {% if user_boards is defined %}
        <ul class="board-list participant-menu__item">
            {% for board in user_boards %}
            <li class="{{ board.slug }}" id="{{ board.slug }}-link">
                <a href="{{ url('boards:conversation-list', board_slug=board.slug) }}">{{board.title}}</a>
                <p>({{board.conversations.count()}})</p>
            </li>
            {% endfor %}
        </ul>
    {% endif %}

    {% if request.user.is_staff or request.user.is_superuser %}
        <h3 class="participant-menu__item participant-menu__item--margin">
            {{_("Manage")}}
        </h3>
        <ul class="participant-menu__item">
            <li><a href="{{ url('administration:index')}}">{{ _("EJ Environment") }}</a></li>
        </ul>
    {% endif %}

    <ul class="participant-menu__item participant-menu__item--margin">
        <h3>{{_("Help")}}</h3>
        <div><a href="{{ url("profile:tour")+'?completedTour=false' }}">{{_("Tour")}}</a></div>
        <div><a href="/docs">{{_("Documentation")}}</a></div>
    </ul>
</nav>
<nav class="menu-padding participant-menu__item--margin">
    {{ page_menu.ACCESSIBILITY() }}
</nav>


<script>
    window.onload = () => {
        function menuStarter() {
            let home = $('#home')[0];
            let url = window.location.href.split("/");
            var menuItem = url[url.length-2].split("-")[0];

            if (menuItem == "home") {
                home.classList.add("participant-menu__home-link--selected");
            }
        };
        menuStarter();
    }
</script>
