{% extends 'base.jinja2' %}

{% block metaOG2 %}

    <meta name="description" property="og:title" content="Area de integração da EJ com outras ferramentas.">
    <meta property="og:description" content="Area de integração da EJ com outras ferramentas.">

{% endblock metaOG2 %}

{% block _menu %} {{ menu(request.user, board_palette) }} {% endblock %}

{% block content %}
<div class="tools">
<div class="tools-title">
<h1>{{_("Tools")}} > {{ tool["integration"] }}</h1>
<span>{{tool["description"] }}</span>
</div>
<div>
	<div class="tools-section">
	<div class="tools-content">
		<span>Select a marketing tool to generate a compatible template</span>
		<form action="{{conversation.url("conversation-tools:mailing")}}" method="post">
			<select id="" name="">
				<option value="mautic">Mautic</option>
			</select>
			<div style="padding-left: 10px; display: flex">
				<input onchange="showDomainInput()" style="margin: 0; z-index: unset" type="checkbox">
				<label for="default_domain"> Redirect user to a custom domain</label>
			</div>
			<input name="custom-domain" style="margin-left: 10px; margin-bottom:15px; margin-top: unset; display: none" id="domain-input" type="text" placeholder="domain to redirect the user on template">
			<input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">
			<input type="submit" value="Download">
		</form>
	</div>
	</div>
<p><a href="{{ conversation.url('conversation-tools:index') }}" title="{{ _('Back to tools') }}"
		class="lowercase bold text-brand">
	<i class="fa fa-chevron-left"></i>{% trans %}Back to tools{% endtrans %}
</a></p>
</div>
</div>
   <script>
	   function showContent() {
		   let content = document.querySelector(".integration-content");
		   let section = document.querySelector(".integration-section");
		   if (window.getComputedStyle(content).maxHeight == "0px") {
			content.style.maxHeight = "400px";
			section.style.borderRadius = "unset";
			section.style.borderStyle = "unset";
		   }
		   else {
			content.style.maxHeight = "0px";
			section.style.borderStyle = "solid";
			section.style.borderRadius = "1rem";
		   }
	   }

	   function showDomainInput() {
		   let input = document.querySelector("#domain-input");
		   if (input.style.display == "none") {
			   input.style.display = "block";
		   } else {
			input.style.display = "none";
		   }
	   }
   </script>
{% endblock %}
