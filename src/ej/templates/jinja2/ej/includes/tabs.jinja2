{% macro tabs(nav_items) %}

<nav class="tabs">
    {% for key, id in nav_items.items() %}
        <div tabindex="0" role="tab" id={{id}}-tab onclick="showTab('{{id}}')">{{key}}</div>
    {% endfor %}
</nav>

<script defer>
    const activeTabContentCssClass = "tabs__tab-content--active";

    function showTab(tabId) {
        $(`[is-selected]`).removeAttr('is-selected', '');
        $(`.${activeTabContentCssClass}`).removeClass(activeTabContentCssClass);
        $(`#${tabId}-tab`).attr('is-selected', '');
        $(`#${tabId}`).addClass(activeTabContentCssClass);
    }

    $(document).ready(function() {
        function showFirstTab(tabId) {
            $(`#${tabId}`).addClass(activeTabContentCssClass);
            $(`#${tabId}-tab`).attr('is-selected', '');
        }
        let values = {{nav_items.values()|list|safe}};
        let firstTabId = values[0];
        showFirstTab(firstTabId);
    })
</script>
{% endmacro %}
