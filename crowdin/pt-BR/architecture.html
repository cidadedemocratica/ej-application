
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Arquitetura &#8212; Empurrando juntos 2.0 Rc1 documentação</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Pesquisar" href="../search.html" />
    <link rel="next" title="Estrutura das URLs" href="urls.html" />
    <link rel="prev" title="Início rápido" href="quick-start.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="architecture">
<h1><a class="toc-backref" href="#id1">Arquitetura</a><a class="headerlink" href="#architecture" title="Permalink to this headline"></a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Conteúdo</p>
<ul class="simple">
<li><a class="reference internal" href="#architecture" id="id1">Arquitetura</a><ul>
<li><a class="reference internal" href="#high-level-overview" id="id2">Visão geral de alto nível</a></li>
<li><a class="reference internal" href="#django-application" id="id3">Aplicativo Django</a></li>
<li><a class="reference internal" href="#app-structure" id="id4">Estrutura do app</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="high-level-overview">
<h2><a class="toc-backref" href="#id2">Visão geral de alto nível</a><a class="headerlink" href="#high-level-overview" title="Permalink to this headline"></a></h2>
<p>O EJ aprova uma arquitetura monolítica com o servidor principal que controla a lógica de negócios
e alguns serviços adicionais que complementam o aplicativo. A maneira recomendada para implantar o EJ é executar cada serviço em um contêiner separado a fim de proporcionar um bom nível de isolamento. Os serviços acima referidos
são organizados em uma arquitetura simples de 3-camadas descrita abaixo:</p>
<img alt="../_images/ej_arch.svg" src="../_images/ej_arch.svg" /><dl class="docutils">
<dt>Nginx</dt>
<dd>O tráfego Web não deve ser tratado diretamente pelo serviço de aplicação.
Gunicorn não é eficiente para servir arquivos estáticos, e um proxy reverso adicional também pode ser usado para aplicar políticas de segurança mais rigorosas cache mais eficiente. O EJ adota o Nginx. Ele serve arquivos estáticos e redireciona
rotas dinâmicas para o serviço de aplicação descrito abaixo. O container Nginx deve compartilhar alguns volumes com o aplicativo Django para encontrar arquivos estáticos.</dd>
<dt>Aplicativo Django</dt>
<dd>O EJ é escrito principalmente em Python e usa o framework web Django.
O serviço principal de aplicação é responsável por todas as rotas dinâmicas, que
são geradas pelo Django usando a linguagem de template Jinja2. O aplicativo Django
deve ser executado com um serviço compatível com WSGI como o Gunicorn. Esta é a abordagem padrão adotada no contêiner de aplicativo.
A tarefa padrão usa um número de trabalhadores igual ao número de núcleos de CPU,
que é geralmente a configuração recomendada.</dd>
<dt>Base de dados SQL</dt>
<dd>O EJ não usa nenhuma funcionalidade específica de banco de dados ou comandos SQL brutos.
Isso significa que ele pode ser executado em qualquer banco de dados suportado pelo Django, como
Postgres SQL, MariaDB, Sqlite3, etc. Recomendamos Postgres (v10.0), que é usado
na instalação padrão. A conexão de banco de dados é controlada por
a variável de ambiente DJANGO_DB_URL no contêiner principal do aplicativo.</dd>
</dl>
<div class="section" id="rocket-chat-integration">
<h3>Integração com o Rocket.Chat<a class="headerlink" href="#rocket-chat-integration" title="Permalink to this headline"></a></h3>
<p>Instâncias que implantam a integração opcional do Rocket.Chat devem considerar os
serviços adicionais.</p>
<dl class="docutils">
<dt>Rocket.Chat</dt>
<dd>Rocket.Chat é um aplicativo Node.js baseado no framework Meteor que
serve arquivos estáticos e as rotas dinâmicas. EJ é compatível com o
contêiner Rocket. chat oficial no <a class="reference external" href="https://hub.docker.com/_/rocketchat">Docker Hub</a>, que é o recomendado
método de implantação.</dd>
<dt>Mongo DB</dt>
<dd>A camada de persistência de Rocket.Chat utiliza o Mongo. O container Rocket.Chat é
compatível com a imagem oficial do Docker Hub e requer configuração mínima.</dd>
</dl>
<div class="section" id="frontend">
<h4>Frontend<a class="headerlink" href="#frontend" title="Permalink to this headline"></a></h4>
<p>O Frontend do EJ é implementado usando a linguagem de templates Jinja2 e usa o conceito de melhora progressiva para incluir estilos através de CSS personalizado e comportamento com JavaScript. Os pontos a seguir apresentam uma breve visão geral das tecnologias usadas
em cada uma dessas camadas:</p>
<dl class="docutils">
<dt>CSS</dt>
<dd>CSS é implementado com Sass usando uma arquitetura inspirada em ITCSS (Inverse Triangle CSS). O módulo CSS é implementado usando o framework para CSS atómico <a class="reference external" href="https://www.npmjs.com/package/mendeleev.css">Mendeleev.css</a> e pode ser facilmente personalizado usando temas. Os arquivos CSS
são estatisticamente compilados e servidos pelo Nginx. A compilação requer libsass, que é declarada nas dependências Python do aplicativo.</dd>
<dt>Javascript / Typescript</dt>
<dd>O EJ não adota nenhum framework JavaScript tradicional, mas depende de mecanismos de melhora progressiva para adicionar funcionalidades opcionais. O EJ usa <a class="reference external" href="https://unpoly.com">Unpoly</a> em
conjunto com <a class="reference external" href="https://jquery.com">jQuery</a> para fornecer a funcionalidade do núcleo. Componentes específicos do EJ são criados usando TypeScript e melhoram as tags anotadas com o atributo "is-component" com comportamentos e funcionalidades extras. A compilação de TypeScript
requer o Gerenciador de Pacotes do Node (NPM) e <a class="reference external" href="https://parceljs.org">Parcel</a>.</dd>
</dl>
</div>
</div>
</div>
<div class="section" id="django-application">
<h2><a class="toc-backref" href="#id3">Aplicação Django</a><a class="headerlink" href="#django-application" title="Permalink to this headline"></a></h2>
<p>Django divide um sistema web em módulos chamados "apps" que implementam modelos de banco de dados
modelos, rotas e funcionalidades. Esta seção descreve todos os "apps"
implementados em EJ.</p>
<div class="section" id="ej-project">
<h3>Projeto EJ<a class="headerlink" href="#ej-project" title="Permalink to this headline"></a></h3>
<p>O módulo <cite>ej</cite> não é propriamente um aplicativo, mas sim um pacote Python regular usado para coordenar apps definindo configurações, funcionalidade comum e carregando arquivos estáticos
como Javascript, CSS, imagens, temas etc. Segue uma visão geral dos principais sub-pacotes e módulos:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">ej.all</span></code></dt>
<dd>Espaço de nomes útil para ser usado em uma seção interativa em <code class="docutils literal notranslate">from ej.all import *</code>.
Importa modelos e managers de todos os apps ej e exemplos no namespace global.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ej.components</span></code></dt>
<dd>Da mesma forma que <code class="docutils literal notranslate"><span class="pre">ej.roles</span></code>, este módulo define renderizadores para reutilização da UI
elementos. A diferença entre os dois módulos é que os componentes podem ter
uma estrutura mais complicada e pode não estar diretamente associada a
tipo de dados Python conhecido.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ej.contrib</span></code></dt>
<dd>Local para incluir migrações ad-hoc. A maioria dos usuários
e desenvolvedores nunca devem modificar isto.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ej.fixes</span></code></dt>
<dd>Módulos que realizam "mokey patch" para consertar problemas com EJ ou qualquer uma de
suas dependências.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ej.forms</span></code></dt>
<dd>Classes base de formulário que são usadas em outros aplicativos EJ. Formulários são derivados de
django.forms.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ej.jinja2</span></code></dt>
<dd>O EJ usa o Jinja2 como linguagem de template padrão. Este módulo configura o ambiente
Jinja2 e define funções e filtros globais.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ej.roles</span></code></dt>
<dd>Funções que definem papéis Hyperpython. Os papéis são mapeamentos de
<code class="docutils literal notranslate"><span class="pre">(tipo,</span> <span class="pre">nome)</span> -&gt;</span> <span class="pre">HTML</span></code> que definem como um determinado objeto deve ser renderizado
em um determinado contexto ou papel. Este módulo define muitos elementos de interface reutilizáveis
como funções Python.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ej.routes</span></code></dt>
<dd>Defina algumas funções de "view" global (como a página inicial) que não tem
funcionalidade vinculada a qualquer app.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ej.services</span></code></dt>
<dd>Funções do Helper para inicializar conexões com serviços externos, como o banco de dados SQL do Postgres
e redimensiona (se habilitado).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ej.settings</span></code></dt>
<dd>Módulo de configurações do Django. Define a configuração usando o framework de configuração do Django Boogie, no qual a configuração é definida em classes reutilizáveis
em vez de um módulo Python.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ej/templates/jinja2</span></code></dt>
<dd>Contém modelos disponíveis globalmente. O modelo global <code class="docutils literal notranslate"><span class="pre">base.jinja2</span></code>
define a estrutura HTML da página base (barras de navegação, meta informações, etc)
que é compartilhada entre a maioria das páginas do site.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ej.testing</span></code></dt>
<dd>Ferramentas de ajuda usadas em testes.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ej.tests</span></code></dt>
<dd>Testes globais. A maioria dos testes são implementados em pastas de teste específicas para cada app.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ej.urls</span></code></dt>
<dd>Mapeamento de URL para o projeto. A maioria das URLs está incluída no módulo <code class="docutils literal notranslate"><span class="pre">routes.py</span></code> do respectivo aplicativo.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ej.utils</span></code></dt>
<dd>Módulo de funções de úteis.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ej.wsgi</span></code></dt>
<dd>Django wrapper para a interface WSGI.</dd>
</dl>
</div>
<div class="section" id="applications">
<h3>Aplicações<a class="headerlink" href="#applications" title="Permalink to this headline"></a></h3>
<p>A listagem abaixo descreve todos os aplicativos implementados dentro da base de código do EJ.</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">ej_conversations</span></code></dt>
<dd><a class="first reference external image-reference" href="../_images/ej_conversations.svg"><img alt="../_images/ej_conversations.svg" src="../_images/ej_conversations.svg" /></a>
<p class="last">Este é o aplicativo principal e define modelos para conversas, comentários,
e votos. O aplicativo ej_applications implementa a interface de usuário para criar, configurar
e interagir com conversas.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ej_users</span></code></dt>
<dd><a class="first reference external image-reference" href="../_images/ej_users.svg"><img alt="../_images/ej_users.svg" src="../_images/ej_users.svg" /></a>
<p class="last">Este aplicativo define o modelo de usuário principal para EJ e todas as rotas relacionadas a
autenticação e gerenciamento de conta (por exemplo, redefinir senhas, cancelar conta,
etc.). O EJ pode ser usado com os usuários regulares do Django, embora isso não seja encorajado.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ej_profiles</span></code></dt>
<dd><a class="first reference external image-reference" href="../_images/ej_profiles.svg"><img alt="../_images/ej_profiles.svg" src="../_images/ej_profiles.svg" /></a>
<p class="last">Implementa interface de gerenciamento de perfil e define um modelo que armazena informações do perfil. Este app pode ser facilmente modificado para incluir campos de perfil extra
ou para remover campos indesejados para alguma instalação específica.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ej_clusters</span></code></dt>
<dd><a class="first reference external image-reference" href="../_images/ej_clusters.svg"><img alt="../_images/ej_clusters.svg" src="../_images/ej_clusters.svg" /></a>
<p class="last">Implementa as rotinas matemáticas para classificar os usuários em grupos de opinião.
O módulo ej_clusters.math implementa nosso algoritmo de K-means modificado que leva em conta "estereótipos de opinião" e também fornece interfaces para gerenciar esses estereótipos e os clusters resultantes.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ej_dataviz</span></code></dt>
<dd><a class="first reference external image-reference" href="../_images/ej_dataviz.svg"><img alt="../_images/ej_dataviz.svg" src="../_images/ej_dataviz.svg" /></a>
<p class="last">Implementa rotinas para visualizar dados sobre conversas. Gera
relatórios estruturados e exporta dados para formatos compatíveis com planilhas. Este módulo
também implementa técnicas de visualização como Word Cloud e
Mapas de Pontos a partir das opiniões dos usuários.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ej_gamification</span></code></dt>
<dd><a class="first reference external image-reference" href="../_images/ej_gamification.svg"><img alt="../_images/ej_gamification.svg" src="../_images/ej_gamification.svg" /></a>
<p class="last">O aplicativo de gamificação implementa o sistema de pontos e medalhas no EJ. A maioria das interações
na plataforma são recompensadas com pontos. Usuários que conseguem
níveis pré-definidos de participação recebem medalhas que reconhecem diferentes
tipos de interações, como a votação de comentários, a criação de
conversas, etc.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ej_boards</span></code></dt>
<dd><a class="first reference external image-reference" href="../_images/ej_boards.svg"><img alt="../_images/ej_boards.svg" src="../_images/ej_boards.svg" /></a>
<p class="last">O aplicativo de quadros permite que usuários regulares tenham seu próprio "quadro" ou "linha do tempo"
de conversas. O feed de conversas padrão em "/conversations/" pode
somente ser gerenciado por usuários com permissões especiais.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ej_experiments</span></code></dt>
<dd>Este app opcional é responsável por criar e salvar dados de teste no banco de dados. É útil para o desenvolvimento, mas não está habilitado em instalações de produção.</dd>
</dl>
</div>
<div class="section" id="third-party-apps">
<h3>Apps de terceiros<a class="headerlink" href="#third-party-apps" title="Permalink to this headline"></a></h3>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">boogie.apps.fragments</span></code></dt>
<dd>O aplicativo de fragmentos do Boogie implementa textos configuráveis ou fragmentos HTML salvos em banco. Isto
permite um maior nível de configuração permitindo que os usuários administrativos
personalizem partes da plataforma sem precisar alterar código.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rules</span></code></dt>
<dd><a class="reference external" href="https://github.com/dfunckt/django-rules">Django-rules</a> implementa um mecanismo para definir regras de negócio registrando funções de predicado simples. Este pacote integra-se com os próprios mecanismos de permissão do Django. As regras de negócio relevantes para cada aplicativo EJ
são implementadas no respectivo módulo "rules.py de cada
app Django e podem ser substituídas por aplicativos ou módulos de terceiros.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Django</span> <span class="pre">taggit</span></code></dt>
<dd><a class="reference external" href="https://github.com/jazzband/django-taggit">Django-taggit</a> é um aplicativo Django que implementa tags para modelos arbitrários. É utilizado para adicionar tags às conversas do EJ.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rest_framework</span></code></dt>
<dd>O <a class="reference external" href="https://www.django-rest-framework.org">Django-Rest-Framework</a> (DRF) é um poderoso conjunto de ferramentas para desenvolver APIs REST Web.
O EJ usa DRF através do módulo rest_api do Django-Boogie.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">allauth,</span> <span class="pre">allauth.account,</span> <span class="pre">allauth.socialaccount</span></code></dt>
<dd>O projeto <a class="reference external" href="https://www.intenct.nl/projects/django-allauth/">allauth</a> implementa fluxos de trabalho de autenticação e autorização
e integração com provedores OAuth de terceiros como Google, Twitter e
Facebook.</dd>
</dl>
</div>
</div>
<div class="section" id="app-structure">
<h2><a class="toc-backref" href="#id4">Estrutura dos apps</a><a class="headerlink" href="#app-structure" title="Permalink to this headline"></a></h2>
<p>O EJ usa Django Boogie adopta uma arquitetura que pode ser ligeiramente diferente
de um aplicativo Django típico. Um objetivo importante da arquitetura é fazer
funções e views menos repetitivas. Isto é realizado movendo
funcionalidade para a própria estrutura do Boogie ou criando mecanismos para dividir a funcionalidade em módulos separados.</p>
<p>Um aplicativo EJ típico tem a seguinte estrutura:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">&lt;app&gt;.admin</span></code></dt>
<dd>Classes e funções do Django admin.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;app&gt;.api</span></code></dt>
<dd>Define os campos e rotas API para os modelos definidos pelo app. Normalmente,
funcionalidade implementada neste módulo simplesmente complementa as declarações principais da API
que são criadas usando o decorador <code class="docutils literal notranslate"><span class="pre">&#64;rest_api</span></code> diretamente
nos modelos.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;app&gt;.apps</span></code></dt>
<dd>Mecanismo AppConfig do Django. Apps do EJ geralmente devem substituir o método <code class="docutils literal notranslate"><span class="pre">ready()</span></code>
da configuração do aplicativo e importar os módulos api, roles e rules.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;app&gt;.enums</span></code></dt>
<dd>Este módulo define qualquer tipo de enum que eventualmente seja usado por modelos. Enums geralmente são importados para o namespace do app. Por isso, eles não devem depender de modelos.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;app&gt;.forms</span></code></dt>
<dd>Formulários Django definidos para o aplicativo. Formulários normalmente herdam do ej.forms em vez de usar django.forms diretamente.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;app&gt;.math</span></code></dt>
<dd>Todas as funções matemáticas devem ser definidas neste módulo. As transformações matemáticas complexas
devem ser implementadas como transformações de ScikitLearn ou
pipelines.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;app&gt;.managers</span></code></dt>
<dd>No Django, classes de modelo define lógica de linha e gerentes e consultas
implementa a lógica da tabela. Todos os métodos que consultam, criam instâncias ou filtram
consultas devem ser implementados no módulo "managers"</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;app&gt;.models</span></code></dt>
<dd>Tal como em aplicativos Django padrão, este módulo define os modelos para o aplicativo. Modelos devem evitar implementar a lógica de negócios dentro deles e idealmente deve restringir as ações de banco de dados, como consultas, validação, etc.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;app&gt;.mommy_recipes</span></code></dt>
<dd>O EJ usa o Model Mommy para criar recursos aleatórios para testes. Este módulo deve
definir uma classe que derive de <code class="docutils literal notranslate"><span class="pre">ej.testing.EjRecipes</span></code> e implementa
fixtures para cada modelo definido no aplicativo. Isto é usado apenas em testes.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;app&gt;.routes</span></code></dt>
<dd>Os aplicativos regulares do Django têm um views.py e arquivos urls.py. Django Boogies
incentiva a unir ambos os arquivos em um único routes.py que define o modo de exibição
funções e mapeia-los para rotas usando decoradores.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;app&gt;.rules</span></code></dt>
<dd>As regras de negócios são implementadas como funções regulares dentro deste módulo.
Isto ajuda a evitar o anti-padrão "fat-models" que é comum em projetos Django. O módulo de regras pode definir tanto permissões (que são funções de predicado centradas no usuário) e "valores" regulares, que podem retornar valores não-booleanos (por exemplo, o número de comentários que o usuário ainda tem em conversa).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;app&gt;.roles</span></code></dt>
<dd><p class="first">Papéis Hyperpython são funções simples que renderizam objetos em contextos determinados.
Por exemplo, podemos registrar um papel de “cartão” na classe Conversation que processa a conversa de entrada como um cartão em uma visualização de lista. Funções de papel devem ser associadas com um tipo e um nome e devem retornar uma estrutura Html Hyperpython.</p>
<p class="last">Nos casos em que o Jinja2 é mais conveniente do que o Hyperpython, o
<code class="docutils literal notranslate"><span class="pre">ej.roles.com_template</span></code> pode ser usado para associar o papel com
um modelo Jinja.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;app&gt;.tests</span></code></dt>
<dd>Testes unitários do aplicativo.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&lt;app&gt;.validators</span></code></dt>
<dd>Implementa as funções de validação usadas em campos de modelo ou campos de formulário dentro
do aplicativo.</dd>
</dl>
<div class="section" id="templates">
<h3>Templates<a class="headerlink" href="#templates" title="Permalink to this headline">¶</a></h3>
<p>Os templates residem dentro da pasta <code class="docutils literal notranslate"><span class="pre">&lt;app&gt;/jinja2/</1></span></code>. Utilizamos a melhor prática do Django
de salvar modelos específicos do aplicativo dentro de <code class="docutils literal notranslate"><span class="pre">jinja2/&lt;app-name&gt;/&lt;template-name&gt;.jinja2</span></code>.
Os nomes dos templates geralmente espelham os nomes das funções de visualização no arquivo <code class="docutils literal notranslate"><span class="pre">routes.py</span></code>. Por exemplo, uma view de edição para alguma conversa seria declarada como:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">urlpatterns</span> <span class="o">=</span> <span class="n">Router</span><span class="p">(</span><span class="n">template</span><span class="o">=</span><span class="s1">&#39;ej_conversations/</span><span class="si">{name}</span><span class="s1">.jinja2&#39;</span><span class="p">)</span>

<span class="nd">@urlpatterns</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;/&lt;model:conversation&gt;/edit/&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">edit</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">conversation</span><span class="p">):</span>
    <span class="o">...</span> <span class="c1"># Implementation</span>
</pre></div>
</div>
<p>Essa função de exibição é automaticamente associada com o <code class="docutils literal notranslate"><span class="pre">ej_conversations/edit. jinja2</span></code>
modelo, a menos que especificado de outra forma.</p>
<p>A maioria dos modelos herda de um modelo base em <code class="docutils literal notranslate"><span class="pre">src/ej/templates/jinja2/base. jinja2</span></code>.
Este template importa elementos de navegação, como menus e barras de ferramentas.</p>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Empurrando Juntos</a></h1>








<h3>Navegação</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user-guide/_index.html">Guia do usuário</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="_index.html">Guia do desenvolvedor</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="quick-start.html">Início rápido</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Arquitetura</a></li>
<li class="toctree-l2"><a class="reference internal" href="urls.html">Estrutura de URLs</a></li>
<li class="toctree-l2"><a class="reference internal" href="environment-variables.html">Variáveis de Ambiente</a></li>
<li class="toctree-l2"><a class="reference internal" href="deploy.html">Implantação</a></li>
<li class="toctree-l2"><a class="reference internal" href="social-login.html">Login social</a></li>
<li class="toctree-l2"><a class="reference internal" href="themes.html">Temas</a></li>
<li class="toctree-l2"><a class="reference internal" href="i18n.html">Internacionalização</a></li>
<li class="toctree-l2"><a class="reference internal" href="api-docs.html">Documentação da API</a></li>
<li class="toctree-l2"><a class="reference internal" href="contributing.html">Contribuindo para EJ</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../i18n/index.html">Traduções</a></li>
</ul>

<div class="relations">
<h3>Tópicos Relacionados</h3>
<ul>
  <li><a href="../index.html">Visão geral da documentação</a><ul>
  <li><a href="_index.html">Guia do desenvolvedor</a><ul>
      <li>Anterior: <a href="quick-start.html" title="previous chapter">Início rápido</a></li>
      <li>Próximo: <a href="urls.html" title="next chapter">estrutura de URL</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Pesquisa rápida</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Ir" />
      <input type="hidden" name="check_keywords" value="sim" />
      <input type="hidden" name="area" value="padrão" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, EJ.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/dev-docs/architecture.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>